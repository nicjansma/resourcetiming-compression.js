<<<<<<< HEAD
!function(t){"use strict";var e,r;void 0!==t&&(e=t,r=e.ResourceTimingCompression);var n={};n.noConflict=function(){return e.ResourceTimingCompression=r,n},n.INITIATOR_TYPES={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6,image:7};var i=[/(h)(ref)/gi,/(s)(rc)/gi,/(a)(ction)/gi];n.trimUrls=[],n.xssBreakWords=i,n.convertToTrie=function(t){var e,r,n,i,o,a,s,c,d={};for(e in t)if(t.hasOwnProperty(e)){for(r=e,n=0;n<this.xssBreakWords.length;n++)r=r.replace(this.xssBreakWords[n],"$1\n$2");if(t.hasOwnProperty(e))for(i=t[e],o=r.split(""),s=d,n=0;n<o.length;n++)a=o[n],c=s[a],void 0===c?s=s[a]=n===o.length-1?i:{}:"string"==typeof c?s=s[a]={"|":c}:n===o.length-1?s[a]["|"]=i:s=s[a]}return d},n.optimizeTrie=function(t,e){var r,n,i,o=0,a=[];for(r in t)t.hasOwnProperty(r)&&a.push(r);for(var s=0;s<a.length;s++)r=a[s],"object"==typeof t[r]&&(n=this.optimizeTrie(t[r],!1))&&(delete t[r],"\n"===r?(r=n.name,o++):r+=n.name,t[r]=n.value),o++;return 1===o?e?(i={},i[r]=t[r],i):{name:r,value:t[r]}:!!e&&t},n.trimTiming=function(t,e){"number"!=typeof t&&(t=0),"number"!=typeof e&&(e=0);var r=Math.round(t||0),n=Math.round(e||0);return 0===r?0:r-n},n.getNavStartTime=function(t){var e=0;if(!t)return e;try{t.location&&t.location.href,"performance"in t&&t.performance&&t.performance.timing&&t.performance.timing.navigationStart&&(e=t.performance.timing.navigationStart)}catch(t){}return e},n.findPerformanceEntriesForFrame=function(t,e,r,n){var i,o,a,s,c,d,m,f,u=[];if(void 0===e&&(e=!0),void 0===r&&(r=0),void 0===n&&(n=0),n>10)return u;try{if(a=this.getNavStartTime(t),t.frames)for(i=0;i<t.frames.length;i++)s=this.getNavStartTime(t.frames[i]),c=0,s>a&&(c=r+(s-a)),u=u.concat(this.findPerformanceEntriesForFrame(t.frames[i],!1,c,++n));try{if(t.location&&t.location.href,!("performance"in t&&t.performance&&t.performance.getEntriesByType))return u}catch(t){return u}e&&(o=t.performance.getEntriesByType("navigation"),o&&1===o.length?(d=o[0],u.push({name:t.location.href,startTime:0,initiatorType:"html",redirectStart:d.redirectStart,redirectEnd:d.redirectEnd,fetchStart:d.fetchStart,domainLookupStart:d.domainLookupStart,domainLookupEnd:d.domainLookupEnd,connectStart:d.connectStart,secureConnectionStart:d.secureConnectionStart,connectEnd:d.connectEnd,requestStart:d.requestStart,responseStart:d.responseStart,responseEnd:d.responseEnd})):t.performance.timing&&(m=t.performance.timing,0!==m.navigationStart&&m.responseEnd<=m.navigationStart+36e5&&u.push({name:t.location.href,startTime:0,initiatorType:"html",redirectStart:m.redirectStart?m.redirectStart-m.navigationStart:0,redirectEnd:m.redirectEnd?m.redirectEnd-m.navigationStart:0,fetchStart:m.fetchStart?m.fetchStart-m.navigationStart:0,domainLookupStart:m.domainLookupStart?m.domainLookupStart-m.navigationStart:0,domainLookupEnd:m.domainLookupEnd?m.domainLookupEnd-m.navigationStart:0,connectStart:m.connectStart?m.connectStart-m.navigationStart:0,secureConnectionStart:m.secureConnectionStart?m.secureConnectionStart-m.navigationStart:0,connectEnd:m.connectEnd?m.connectEnd-m.navigationStart:0,requestStart:m.requestStart?m.requestStart-m.navigationStart:0,responseStart:m.responseStart?m.responseStart-m.navigationStart:0,responseEnd:m.responseEnd?m.responseEnd-m.navigationStart:0})));var p=t.performance.getEntriesByType("resource"),S=[];for(i=0;p&&i<p.length;i++)m=p[i],f={name:m.name,initiatorType:m.initiatorType,startTime:m.startTime+r,redirectStart:m.redirectStart?m.redirectStart+r:0,redirectEnd:m.redirectEnd?m.redirectEnd+r:0,fetchStart:m.fetchStart?m.fetchStart+r:0,domainLookupStart:m.domainLookupStart?m.domainLookupStart+r:0,domainLookupEnd:m.domainLookupEnd?m.domainLookupEnd+r:0,connectStart:m.connectStart?m.connectStart+r:0,secureConnectionStart:m.secureConnectionStart?m.secureConnectionStart+r:0,connectEnd:m.connectEnd?m.connectEnd+r:0,requestStart:m.requestStart?m.requestStart+r:0,responseStart:m.responseStart?m.responseStart+r:0,responseEnd:m.responseEnd?m.responseEnd+r:0},(m.encodedBodySize||m.decodedBodySize||m.transferSize)&&(f.encodedBodySize=m.encodedBodySize,f.decodedBodySize=m.decodedBodySize,f.transferSize=m.transferSize),S.push(f);u=u.concat(S)}catch(t){return u}return u},n.toBase36=function(t){return"number"==typeof t&&0!==t?t.toString(36):"string"==typeof t?t:""},n.getVisibleEntries=function(t){var e,r,n=["img","iframe","image"],i={},o=t.document,a=o.createElement("A");return e=void 0!==t.pageXOffset?t.pageXOffset:(o.documentElement||o.body.parentNode||o.body).scrollLeft,r=void 0!==t.pageYOffset?t.pageYOffset:(o.documentElement||o.body.parentNode||o.body).scrollTop,n.forEach(function(t){var n,s,c,d,m=o.getElementsByTagName(t);for(s=0;s<m.length;s++)(n=m[s])&&(d=n.src||n.getAttribute("src")||n.getAttribute("xlink:href"),a.href=d,(d=a.href)&&!i[d]&&(c=n.getBoundingClientRect(),(c.height||n.offsetHeight)&&(c.width||n.offsetWidth)&&(i[d]=[c.height||n.offsetHeight,c.width||n.offsetWidth,Math.round(c.top+r),Math.round(c.left+e)])))}),i},n.inArray=function(t,e){var r;if(void 0===t||void 0===e||!e.length)return!1;for(r=0;r<e.length;r++)if(e[r]===t)return!0;return!1},n.getFilteredResourceTiming=function(t,e,r,n){var i,o,a=this.findPerformanceEntriesForFrame(t,!0,0,0),s=this.getNavStartTime(t);if(!a||!a.length)return[];var c=[];for(i=0;i<a.length;i++)if(o=a[i],0!==o.name.indexOf("about:")&&0!==o.name.indexOf("javascript:")&&!(e&&s+o.startTime<e)){if(r&&s+o.startTime>r)break;(void 0===n||"*"===n||!n.length||o.initiatorType&&this.inArray(o.initiatorType,n))&&c.push(o)}return c},n.compressSize=function(t){var e,r,n,i;return t.encodedBodySize||t.decodedBodySize||t.transferSize?(e=t.transferSize,r=t.encodedBodySize,n=t.decodedBodySize,i=[r,e?e-r:"_",n?n-r:0],i.map(this.toBase36).join(",").replace(/,+$/,"")):""},n.cleanupURL=function(t,e){var r;return t&&"[object Array]"!==Object.prototype.toString.call(t)?(void 0!==e&&t&&t.length>e&&(r=t.indexOf("?"),t=r!==-1&&r<e?t.substr(0,r)+"?...":t.substr(0,e-3)+"..."),t):""},n.trimUrl=function(t,e){var r,n,i;if(t&&e)for(r=0;r<e.length;r++)if("string"==typeof(i=e[r])){if((n=t.indexOf(i))!==-1){t=t.substr(0,n+i.length)+"...";break}}else i instanceof RegExp&&i.test(t)&&(t=t.replace(i,"$1")+"...");return this.cleanupURL(t,500)},n.getResourceTiming=function(e,r,i){void 0===e&&(e=t);var o=n.getFilteredResourceTiming(e,r,i);return o&&o.length?n.compressResourceTiming(e,o):{}},n.compressResourceTiming=function(t,e){var r,n,i,o,a,s={},c={};for(c=this.getVisibleEntries(t),r=0;r<e.length;r++){n=e[r],i=this.INITIATOR_TYPES[n.initiatorType],void 0===i&&(i=0),a=i+[this.trimTiming(n.startTime,0),this.trimTiming(n.responseEnd,n.startTime),this.trimTiming(n.responseStart,n.startTime),this.trimTiming(n.requestStart,n.startTime),this.trimTiming(n.connectEnd,n.startTime),this.trimTiming(n.secureConnectionStart,n.startTime),this.trimTiming(n.connectStart,n.startTime),this.trimTiming(n.domainLookupEnd,n.startTime),this.trimTiming(n.domainLookupStart,n.startTime),this.trimTiming(n.redirectEnd,n.startTime),this.trimTiming(n.redirectStart,n.startTime)].map(this.toBase36).join(",").replace(/,+$/,"");var d=this.compressSize(n);""!==d&&(a+="*1"+d),o=this.trimUrl(n.name,this.trimUrls),o=this.reverseHostname(o),void 0!==s[o]?s[o]+="|"+a:void 0!==c[o]?s[o]="*0"+c[o].map(this.toBase36).join(",").replace(/,+$/,"")+"|"+a:s[o]=a}return this.optimizeTrie(this.convertToTrie(s),!0)},n.reverseHostname=function(t){return t.replace(/^(https?:\/\/)([^\/]+)(.*)/,function(t,e,r,i){return e+n.reverseString(r)+i})},n.reverseString=function(t){for(var e=t.length,r="";e--;)r+=t[e];return r},"function"==typeof define&&define.amd?define([],function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:void 0!==e&&(e.ResourceTimingCompression=n)}("undefined"!=typeof window?window:void 0);
=======
!function(t){"use strict";var e,r;void 0!==t&&(e=t,r=e.ResourceTimingCompression);var n={};n.noConflict=function(){return e.ResourceTimingCompression=r,n},n.INITIATOR_TYPES={other:0,img:1,link:2,script:3,css:4,xmlhttprequest:5,html:6,image:7};var i=[/(h)(ref)/gi,/(s)(rc)/gi,/(a)(ction)/gi];n.trimUrls=[],n.xssBreakWords=i,n.convertToTrie=function(t){var e,r,n,i,o,a,s,c,d={};for(e in t)if(t.hasOwnProperty(e)){for(r=e,n=0;n<this.xssBreakWords.length;n++)r=r.replace(this.xssBreakWords[n],"$1\n$2");if(t.hasOwnProperty(e))for(i=t[e],o=r.split(""),s=d,n=0;n<o.length;n++)a=o[n],c=s[a],void 0===c?s=s[a]=n===o.length-1?i:{}:"string"==typeof c?s=s[a]={"|":c}:n===o.length-1?s[a]["|"]=i:s=s[a]}return d},n.optimizeTrie=function(t,e){var r,n,i,o=0,a=[];for(r in t)t.hasOwnProperty(r)&&a.push(r);for(var s=0;s<a.length;s++)r=a[s],"object"==typeof t[r]&&(n=this.optimizeTrie(t[r],!1))&&(delete t[r],"\n"===r?(r=n.name,o++):r+=n.name,t[r]=n.value),o++;return 1===o?e?(i={},i[r]=t[r],i):{name:r,value:t[r]}:!!e&&t},n.trimTiming=function(t,e){"number"!=typeof t&&(t=0),"number"!=typeof e&&(e=0);var r=Math.round(t||0),n=Math.round(e||0);return 0===r?0:r-n},n.getNavStartTime=function(t){var e=0;if(!t)return e;try{t.location&&t.location.href,"performance"in t&&t.performance&&t.performance.timing&&t.performance.timing.navigationStart&&(e=t.performance.timing.navigationStart)}catch(t){}return e},n.findPerformanceEntriesForFrame=function(t,e,r,n){var i,o,a,s,c,d,m,f,u=[];if(void 0===e&&(e=!0),void 0===r&&(r=0),void 0===n&&(n=0),n>10)return u;try{if(a=this.getNavStartTime(t),t.frames)for(i=0;i<t.frames.length;i++)s=this.getNavStartTime(t.frames[i]),c=0,s>a&&(c=r+(s-a)),u=u.concat(this.findPerformanceEntriesForFrame(t.frames[i],!1,c,++n));try{if(t.location&&t.location.href,!("performance"in t&&t.performance&&t.performance.getEntriesByType))return u}catch(t){return u}e&&(o=t.performance.getEntriesByType("navigation"),o&&1===o.length?(d=o[0],u.push({name:t.location.href,startTime:0,initiatorType:"html",redirectStart:d.redirectStart,redirectEnd:d.redirectEnd,fetchStart:d.fetchStart,domainLookupStart:d.domainLookupStart,domainLookupEnd:d.domainLookupEnd,connectStart:d.connectStart,secureConnectionStart:d.secureConnectionStart,connectEnd:d.connectEnd,requestStart:d.requestStart,responseStart:d.responseStart,responseEnd:d.responseEnd})):t.performance.timing&&(m=t.performance.timing,0!==m.navigationStart&&m.responseEnd<=m.navigationStart+36e5&&u.push({name:t.location.href,startTime:0,initiatorType:"html",redirectStart:m.redirectStart?m.redirectStart-m.navigationStart:0,redirectEnd:m.redirectEnd?m.redirectEnd-m.navigationStart:0,fetchStart:m.fetchStart?m.fetchStart-m.navigationStart:0,domainLookupStart:m.domainLookupStart?m.domainLookupStart-m.navigationStart:0,domainLookupEnd:m.domainLookupEnd?m.domainLookupEnd-m.navigationStart:0,connectStart:m.connectStart?m.connectStart-m.navigationStart:0,secureConnectionStart:m.secureConnectionStart?m.secureConnectionStart-m.navigationStart:0,connectEnd:m.connectEnd?m.connectEnd-m.navigationStart:0,requestStart:m.requestStart?m.requestStart-m.navigationStart:0,responseStart:m.responseStart?m.responseStart-m.navigationStart:0,responseEnd:m.responseEnd?m.responseEnd-m.navigationStart:0})));var p=t.performance.getEntriesByType("resource"),S=[];for(i=0;p&&i<p.length;i++)m=p[i],f={name:m.name,initiatorType:m.initiatorType,startTime:m.startTime+r,redirectStart:m.redirectStart?m.redirectStart+r:0,redirectEnd:m.redirectEnd?m.redirectEnd+r:0,fetchStart:m.fetchStart?m.fetchStart+r:0,domainLookupStart:m.domainLookupStart?m.domainLookupStart+r:0,domainLookupEnd:m.domainLookupEnd?m.domainLookupEnd+r:0,connectStart:m.connectStart?m.connectStart+r:0,secureConnectionStart:m.secureConnectionStart?m.secureConnectionStart+r:0,connectEnd:m.connectEnd?m.connectEnd+r:0,requestStart:m.requestStart?m.requestStart+r:0,responseStart:m.responseStart?m.responseStart+r:0,responseEnd:m.responseEnd?m.responseEnd+r:0},(m.encodedBodySize||m.decodedBodySize||m.transferSize)&&(f.encodedBodySize=m.encodedBodySize,f.decodedBodySize=m.decodedBodySize,f.transferSize=m.transferSize),S.push(f);u=u.concat(S)}catch(t){return u}return u},n.toBase36=function(t){return"number"==typeof t&&0!==t?t.toString(36):"string"==typeof t?t:""},n.getVisibleEntries=function(t){var e,r,n=["img","iframe","image"],i={},o=t.document,a=o.createElement("A");return e=void 0!==t.pageXOffset?t.pageXOffset:(o.documentElement||o.body.parentNode||o.body).scrollLeft,r=void 0!==t.pageYOffset?t.pageYOffset:(o.documentElement||o.body.parentNode||o.body).scrollTop,n.forEach(function(t){var n,s,c,d,m=o.getElementsByTagName(t);for(s=0;s<m.length;s++)(n=m[s])&&(d=n.src||n.getAttribute("src")||n.getAttribute("xlink:href"),a.href=d,(d=a.href)&&!i[d]&&(c=n.getBoundingClientRect(),(c.height||n.offsetHeight)&&(c.width||n.offsetWidth)&&(i[d]=[c.height||n.offsetHeight,c.width||n.offsetWidth,Math.round(c.top+r),Math.round(c.left+e)])))}),i},n.inArray=function(t,e){var r;if(void 0===t||void 0===e||!e.length)return!1;for(r=0;r<e.length;r++)if(e[r]===t)return!0;return!1},n.getFilteredResourceTiming=function(t,e,r,n){var i,o,a=this.findPerformanceEntriesForFrame(t,!0,0,0),s=this.getNavStartTime(t);if(!a||!a.length)return[];var c=[];for(i=0;i<a.length;i++)if(o=a[i],0!==o.name.indexOf("about:")&&0!==o.name.indexOf("javascript:")&&!(e&&s+o.startTime<e)){if(r&&s+o.startTime>r)break;(void 0===n||"*"===n||!n.length||o.initiatorType&&this.inArray(o.initiatorType,n))&&c.push(o)}return c},n.compressSize=function(t){var e,r,n,i;return t.encodedBodySize||t.decodedBodySize||t.transferSize?(e=t.transferSize,r=t.encodedBodySize,n=t.decodedBodySize,i=[r,e?e-r:"_",n-r],i.map(this.toBase36).join(",").replace(/,+$/,"")):""},n.cleanupURL=function(t,e){var r;return t&&"[object Array]"!==Object.prototype.toString.call(t)?(void 0!==e&&t&&t.length>e&&(r=t.indexOf("?"),t=-1!==r&&r<e?t.substr(0,r)+"?...":t.substr(0,e-3)+"..."),t):""},n.trimUrl=function(t,e){var r,n,i;if(t&&e)for(r=0;r<e.length;r++)if("string"==typeof(i=e[r])){if(-1!==(n=t.indexOf(i))){t=t.substr(0,n+i.length)+"...";break}}else i instanceof RegExp&&i.test(t)&&(t=t.replace(i,"$1")+"...");return this.cleanupURL(t,500)},n.getResourceTiming=function(e,r,i){void 0===e&&(e=t);var o=n.getFilteredResourceTiming(e,r,i);return o&&o.length?n.compressResourceTiming(e,o):{}},n.compressResourceTiming=function(t,e){var r,n,i,o,a,s={},c={};for(c=this.getVisibleEntries(t),r=0;r<e.length;r++){n=e[r],i=this.INITIATOR_TYPES[n.initiatorType],void 0===i&&(i=0),a=i+[this.trimTiming(n.startTime,0),this.trimTiming(n.responseEnd,n.startTime),this.trimTiming(n.responseStart,n.startTime),this.trimTiming(n.requestStart,n.startTime),this.trimTiming(n.connectEnd,n.startTime),this.trimTiming(n.secureConnectionStart,n.startTime),this.trimTiming(n.connectStart,n.startTime),this.trimTiming(n.domainLookupEnd,n.startTime),this.trimTiming(n.domainLookupStart,n.startTime),this.trimTiming(n.redirectEnd,n.startTime),this.trimTiming(n.redirectStart,n.startTime)].map(this.toBase36).join(",").replace(/,+$/,"");var d=this.compressSize(n);""!==d&&(a+="*1"+d),o=this.trimUrl(n.name,this.trimUrls),o=this.reverseHostname(o),void 0!==s[o]?s[o]+="|"+a:void 0!==c[o]?s[o]="*0"+c[o].map(this.toBase36).join(",").replace(/,+$/,"")+"|"+a:s[o]=a}return this.optimizeTrie(this.convertToTrie(s),!0)},n.reverseHostname=function(t){return t.replace(/^(https?:\/\/)([^\/]+)(.*)/,function(t,e,r,i){return e+n.reverseString(r)+i})},n.reverseString=function(t){for(var e=t.length,r="";e--;)r+=t[e];return r},"function"==typeof define&&define.amd?define([],function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:void 0!==e&&(e.ResourceTimingCompression=n)}("undefined"!=typeof window?window:void 0);
>>>>>>> c49a1c95a9d16bdb672a6659ba4f4f24e5ccff4d
